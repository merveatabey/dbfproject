

@model IEnumerable<dbfEvent.Data.Models.Event>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<table class="table">
    <thead>
        <tr>
            <th>Etkinlik Adı</th>
            <th>Açıklama</th>
            <th>Etkinlik Türü</th>
            <th>Başlangıç Tarihi</th>
            <th>Bitiş Tarihi</th>
            <th>Konumu</th>
            <th>Katılımcı Sınırı</th>
            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @{
            var colors = new[] { "table-primary", "table-success", "table-warning" };
            int colorIndex = 0;
        }

        @foreach (var item in Model)
        {
            // Satır rengini sırayla seç
            string rowClass = colors[colorIndex % colors.Length];
            colorIndex++;

            <tr class="@rowClass">
                <td>@item.EventName</td>
                <td>@item.Description</td>
                <td>@item.EventType</td>
                <td>@item.StartDate</td>
                <td>@item.FinishDate</td>
                <td>@item.Location</td>
                <td>@item.ParticipantsLimit</td>
                <td>
                    <a asp-action="BiletAl" asp-controller="Bilet" class="btn btn-outline-warning btn-sm" onclick="biletAL(this)">Bilet Al</a>
                </td>
            </tr>
        }

    </tbody>
</table>

<script>function biletAL(element) {

        alert("Bilet Al sayfasına yönlendiriliyorsunuz!")

        //tüm satırlardaki seçimi kaldır (isteğe bağlı)
        const rows = document.querySelectorAll('#datatablesSimple tbody tr');
        rows.forEach(row => row.style.backgroundColor = '');

        //tıklanana satırı bul
        const tr = element.closest('tr');
        //satırın arka plan rengini değiştir
        tr.style.backgroundColor = '#fff3cd';

    }</script>

